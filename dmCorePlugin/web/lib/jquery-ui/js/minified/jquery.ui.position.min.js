/*
 * jQuery UI Position 1.8a2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Position
 */(function(e){e.ui=e.ui||{};var b=/left|center|right/,d="center",c=/top|center|bottom/,f="center",a=e.fn.position;e.fn.position=function(h){if(!h||!h.of){return a.apply(this,arguments)}var k=e(h.of),m=(h.collision||"flip").split(" "),l=h.offset?h.offset.split(" "):[0,0],j,g,i;if(h.of.nodeType===9){j=k.width();g=k.height();i={top:0,left:0}}else{if(h.of.scrollTo&&h.of.document){j=k.width();g=k.height();i={top:k.scrollTop(),left:k.scrollLeft()}}else{if(h.of.preventDefault){h.at="left top";j=g=0;i={top:h.of.pageY,left:h.of.pageX}}else{j=k.outerWidth();g=k.outerHeight();i=k.offset()}}}e.each(["my","at"],function(){var n=(h[this]||"").split(" ");n=n.length==1?b.test(n[0])?n.concat([f]):c.test(n[0])?[d].concat(n):[d,f]:n;n[0]=b.test(n[0])?n[0]:d;n[1]=c.test(n[1])?n[1]:f;h[this]=n});if(m.length==1){m[1]=m[0]}l[0]=parseInt(l[0],10)||0;if(l.length==1){l[1]=l[0]}l[1]=parseInt(l[1],10)||0;switch(h.at[0]){case"right":i.left+=j;break;case d:i.left+=j/2;break}switch(h.at[1]){case"bottom":i.top+=g;break;case f:i.top+=g/2;break}i.left+=l[0];i.top+=l[1];return this.each(function(){var s=e(this),r=s.outerWidth(),q=s.outerHeight(),o=e.extend({},i),t,n,p;switch(h.my[0]){case"right":o.left-=r;break;case d:o.left-=r/2;break}switch(h.my[1]){case"bottom":o.top-=q;break;case f:o.top-=q/2;break}e.each(["left","top"],function(v,u){(e.ui.position[m[v]]&&e.ui.position[m[v]][u](o,{targetWidth:j,targetHeight:g,elemWidth:r,elemHeight:q,offset:l,my:h.my,at:h.at}))});(h.stackfix!==false&&e.fn.stackfix&&s.stackfix());(e.isFunction(h.by)?h.by.call(this,o):s.offset(o))})};e.ui.position={fit:{left:function(g,h){var i=g.left+h.elemWidth-e(window).width()-e(window).scrollLeft();g.left=i>0?g.left-i:Math.max(0,g.left)},top:function(g,h){var i=g.top+h.elemHeight-e(window).height()-e(window).scrollTop();g.top=i>0?g.top-i:Math.max(0,g.top)}},flip:{left:function(h,i){if(i.at[0]=="center"){return}var j=h.left+i.elemWidth-e(window).width()-e(window).scrollLeft(),g=i.my[0]=="left"?-i.elemWidth:i.my[0]=="right"?i.elemWidth:0,k=-2*i.offset[0];h.left+=h.left<0?g+i.targetWidth+k:j>0?g-i.targetWidth+k:0},top:function(h,j){if(j.at[1]=="center"){return}var k=h.top+j.elemHeight-e(window).height()-e(window).scrollTop(),g=j.my[1]=="top"?-j.elemHeight:j.my[1]=="bottom"?j.elemHeight:0,i=j.at[1]=="top"?j.targetHeight:-j.targetHeight,l=-2*j.offset[1];h.top+=h.top<0?g+j.targetHeight+l:k>0?g+i+l:0}}};e.fn.extend({_offset:e.fn.offset,offset:function(g){return !g?this._offset():this.each(function(){var j=e(this),i=/relative|static/.test(j.css("position")),h=j.css("display")=="none";(i&&j.css("position","relative"));(h&&j.show());var k=j.offset(),l={left:parseInt(j.css("left"),10),top:parseInt(j.css("top"),10)};l.left=!isNaN(l.left)?l.left:i?0:this.offsetLeft;l.top=!isNaN(l.top)?l.top:i?0:this.offsetTop;if(g.left||g.left===0){j.css("left",g.left-k.left+l.left)}if(g.top||g.top===0){j.css("top",g.top-k.top+l.top)}(h&&j.hide())})}})})(jQuery);